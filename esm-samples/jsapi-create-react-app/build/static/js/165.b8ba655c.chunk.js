(this["webpackJsonpjsapi-create-react-app"]=this["webpackJsonpjsapi-create-react-app"]||[]).push([[165],{1033:function(t,e,a){"use strict";a.r(e),a.d(e,"previewCIMSymbol",(function(){return s}));var i=a(17),n=a(974),l=a(603);const c=new n.CIMSymbolRasterizer(null,!0);async function s(t,e={}){const{size:a,maxSize:n,node:s,opacity:o}=e,r=e.cimOptions||e,{feature:p,fieldMap:u,geometryType:h,style:d}=r,m=Object(l.b)(t),y=Math.min(null!=a?a:m,null!=n?n:Object(i.h)(120));y!==m&&(t=t.clone(),Object(l.d)(t,y,{preserveOutlineWidth:!0}));let b=3;t&&t.data&&t.data.symbol&&"CIMPointSymbol"!==t.data.symbol.type&&(b=1);const g=await c.rasterizeCIMSymbolAsync(t,p,u,h,{scaleFactor:b,style:d}),w=document.createElement("canvas");w.width=g.imageData.width,w.height=g.imageData.height,w.getContext("2d").putImageData(g.imageData,0,0);let M=w.width/b,f=w.height/b;if(null!=a&&(null==(null==e?void 0:e.scale)||(null==e?void 0:e.scale))){const t=M/f;M=t<=1?Math.ceil(y*t):y,f=t<=1?y:Math.ceil(y/t)}const v=new Image(M,f);return v.src=w.toDataURL(),null!=o&&(v.style.opacity=`${o}`),s&&s.appendChild(v),v}}}]);
//# sourceMappingURL=165.b8ba655c.chunk.js.map